# Bash的基本功能

- 查看历史命令
- 命令或者文件的补全
- 设置别名

## 历史命令

### 历史命令查看

history [选项] [历史命令保存文件]

选项：

-c ：清空历史命令

-w ：把缓存中的历史命令写入历史命令保存文件。如果不手动指定历史命令保存文件，则放入默认历史命令保存文件~/.bash_history

使用history命令查看的历史命令和~/.bash_history文件中保存的历史命令是不同的。那是因为当前登录操作的命令并没有直接写入~/.bash_history文件，而是保存在缓存当中的。需要等到当前用户注销之后，缓存中的命令才会写入~/.bash_history文件。

如果需要把内存中的命令直接写入~/.bash_history文件，而不是等到用户注销时再写入，就使用“-w”选项

### 历史命令的调用

- 使用上、下箭头调用以前的历史命令
- 使用"!n"重复执行第n条历史命令
- 使用"!!"重复执行上一条命令
- 使用"!字串"重复执行最后一条以该子串开头的命令
- 使用"!$"重复上一条命令的最后一个参数

## 设置别名

别名的优先级高于命令

1、查看系统中已经设置好的别名：alias

2、设置别名

alias 别名 = '原命令'

命令执行时的顺序：
- 第一顺位执行用绝对路径或相对路径执行的命令
- 第二顺位执行别名
- 第三顺位执行Bash的内部命令
- 第四顺位执行按照$PATH环境变量定义的目录查找顺序找到的第一个命令

为了将别名生效，可以把别名写入环境变量配置文件~/.Bashrc

## Bash常用快捷键
| 快捷键 | 作用 | 
| --- | --- |
| Ctrl+A | 把光标移动到命令行开头。如果输入的命令过长，想要把光标移动到命令行开头时使用 |
| Ctrl+E | 把光标移动到命令行尾 |
| Ctrl+C | 强制终止当前命令 |
| Ctrl+L | 清屏，相对于clear命令 |
| Ctrl+U | 删除或剪切光标之前的命令 |
| Ctrl+K | 删除或剪切光标之后的命令 |
| Ctrl+Y | 粘贴Ctrl+U或Ctrl+K剪切的内容 |
| Ctrl+R | 在历史命令中搜索，按下Ctrl+R之后，就会出现搜索界面，只要输入搜索内容，就会从历史命令中搜索 |
| Ctrl+D | 退出当前终端 |
| Ctrl+Z | 暂停，并放入后台 |
| Ctrl+S | 暂停屏幕输出 |
| Ctrl+Q | 恢复屏幕输出 |

## 输入输出重定向

### Bash的标准输入输出

| 设备 | 设备文件名 | 文件描述符 | 类型 | 
| --- | --- | --- | --- |
| 键盘 | /dev/stdin | 0 | 标准输入 |
| 显示器 | /dev/stdout | 1 | 标准输出 |
| 显示器 | /dev/stderr | 2 | 标准错误输出 |

### 输出重定向
<table>
    <tbody>
    <tr>
        <th>类型</th>
        <th>符号</th>
        <th>作用</th>
    </tr>
    <tr>
        <td rowspan="2">标准输出重定向</td>
        <td>命令 > 文件</td>
        <td>以覆盖的方式，把命令的正确输出输出到指定文件或设备中</td>
    </tr>
    <tr>
        <td>命令 >> 文件</td>
        <td>以追加的方式，把命令的正确输出输出到指定的文件或设备中</td>
    </tr>
    <tr>
        <td rowspan="2">标准错误输出重定向</td>
        <td>错误命令 2> 文件</td>
        <td>已覆盖的方式，把命令的错误输出输出到指定的文件或设备中</td>
    </tr>
    <tr>
        <td>错误命令 2>> 文件</td>
        <td>已追加的方式，把命令的错误输出输出到指定的文件或设备中</td>
    </tr>
    <tr>
        <td rowspan="5">正确输出和错误输出同时保持</td>
        <td>命令 > 文件 2>&1</td>
        <td>已覆盖的方式，把正确的输出和错误输出保存到同一文件中</td>
    </tr>
    <tr>
        <td>命令 >> 文件 2>&1</td>
        <td>已追加的方式，把正确的输出和错误输出保存到同一文件中</td>
    </tr>
    <tr>
        <td>命令 &> 文件 </td>
        <td>已覆盖的方式，把正确的输出和错误输出保存到同一文件中</td>
    </tr>
    <tr>
        <td>命令 &>> 文件 </td>
        <td>已追加的方式，把正确的输出和错误输出保存到同一文件中</td>
    </tr>
    <tr>
        <td>命令 >> 文件1 2>>文件2 </td>
        <td>把正确的输出保存到文件1中，错误输出保存到文件2中</td>
    </tr>
    </tbody>
</table>

### 输入重定向
